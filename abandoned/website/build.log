[120807-112935 root INFO]: Importing config "fret_work_config"...
[120807-112935 root INFO]: Cleaning output directory
[120807-112935 Builder INFO]: Building Website...
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret/projects
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret/ref
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret/misc
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret/resume
[120807-112935 Builder INFO]: FileMapper: current path = /local/sandc3/fret/ideas
[120807-112935 Builder INFO]: building /local/sandc3/fret/ideas/environment-sessions.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/environment-sessions.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/links-for-later.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/links-for-later.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ref/apegga-mentoring.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/apegga-mentoring.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ref/python.txt
[120807-112935 Builder INFO]: errors found in /local/sandc3/fret/ref/python.txt were:
<string>:20: (ERROR/3) Unknown directive type "code-block".

.. code-block:: python

    class Dog(Object):
        """An abstract class representing a dog.  Should not be directly
        instantiated, instead you should use a subclassed breed.
        """
        def __init__(self, name):
            if self.__class__ is Dog:
                raise NotImplementedError('"Dog" is not a valid breed.')
            self.name = name

        def bark(self):
            print 'WOOF, I'm a %s, WOOF' % self.__class__

    class Poodle(Dog):
        def __init__(self, name):
            super(Poodle, self).__init__(name)

    class Dalmation(Dog):
        def __init__(self, name):
            super(Dalmation, self).__init__(name)

<string>:47: (ERROR/3) Unknown directive type "code-block".

.. code-block:: python

    >>> pup = Dog('fido')
    Traceback (most recent call last):
      File "<stdin>", line 1, in <module>
    NotImplementedError: "Dog" is not a valid breed.
    >>> pup = Poodle('fido')
    >>> pup.bark()
    WOOF, I'm a Poodle, WOOF
    >>> pup = Dalmation('fido')
    >>> pup.bark()
    WOOF, I'm a Dalmation, WOOF

[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/python.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ideas/sphinx-preprocessor.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/sphinx-preprocessor.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/shopping-list.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/shopping-list.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ref/tmux.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/tmux.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/index.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/index.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ideas/python-tree.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/python-tree.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/projects/website.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/projects/website.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ideas/blog-script.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/blog-script.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ref/nas-config.txt
[120807-112935 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/nas-config.html
[120807-112935 Builder INFO]: building /local/sandc3/fret/ref/apt-packages.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/apt-packages.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/tmpfs.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/tmpfs.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/website-management.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/website-management.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/php.txt
[120807-112936 Builder INFO]: errors found in /local/sandc3/fret/ref/php.txt were:
<string>:11: (ERROR/3) Unknown directive type "code-block".

.. code-block:: php

    $myFile = "testfile.txt";
    $fh = fopen($myFile, 'w') or die("cannot open file");
    $stringData = "Bobby Bopper\n";
    fwrite($fh, $stringData);
    fclose($fh);

<string>:22: (ERROR/3) Unknown directive type "code-block".

.. code-block:: php

    $myFile = "testfile.txt";
    $fh = fopen($myFile, 'r');



[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/php.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/misc/reformat-letter.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/misc/reformat-letter.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/rdiff-backup.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/rdiff-backup.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/private-git-hosting.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/private-git-hosting.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/songs-to-learn.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/songs-to-learn.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/ipsnitch.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/ipsnitch.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/cgi-server.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/cgi-server.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/pdb.txt
[120807-112936 Builder INFO]: errors found in /local/sandc3/fret/ref/pdb.txt were:
<string>:23: (ERROR/3) Unknown directive type "code-block".

.. code-block:: python

    import code, traceback, signal

    def debug(sig, frame):
        """Interrupt running process, and provide a python prompt for
        interactive debugging."""
        d={'_frame':frame}         # Allow access to frame object.
        d.update(frame.f_globals)  # Unless shadowed by global
        d.update(frame.f_locals)

        i = code.InteractiveConsole(d)
        message  = "Signal recieved : entering python shell.\nTraceback:\n"
        message += ''.join(traceback.format_stack(frame))
        i.interact(message)

    def listen():
        signal.signal(signal.SIGUSR1, debug)  # Register handler

<string>:64: (ERROR/3) Unknown directive type "code-block".

.. code-block:: python

    try: import readline  # For readline input support
    except: pass

    import sys, os, traceback, signal, codeop, cStringIO, cPickle, tempfile

    def pipename(pid):
        """Return name of pipe to use"""
        return os.path.join(tempfile.gettempdir(), 'debug-%d' % pid)

    class NamedPipe(object):
        def __init__(self, name, end=0, mode=0666):
            """Open a pair of pipes, name.in and name.out for communication
            with another process.  One process should pass 1 for end, and the
            other 0.  Data is marshalled with pickle."""
            self.in_name, self.out_name = name +'.in',  name +'.out',
            try: os.mkfifo(self.in_name,mode)
            except OSError: pass
            try: os.mkfifo(self.out_name,mode)
            except OSError: pass

            # NOTE: The order the ends are opened in is important - both ends
            # of pipe 1 must be opened before the second pipe can be opened.
            if end:
                self.inp = open(self.out_name,'r')
                self.out = open(self.in_name,'w')
            else:
                self.out = open(self.out_name,'w')
                self.inp = open(self.in_name,'r')
            self._open = True

        def is_open(self):
            return not (self.inp.closed or self.out.closed)

        def put(self,msg):
            if self.is_open():
                data = cPickle.dumps(msg,1)
                self.out.write("%d\n" % len(data))
                self.out.write(data)
                self.out.flush()
            else:
                raise Exception("Pipe closed")

        def get(self):
            txt=self.inp.readline()
            if not txt:
                self.inp.close()
            else:
                l = int(txt)
                data=self.inp.read(l)
                if len(data) < l: self.inp.close()
                return cPickle.loads(data)  # Convert back to python object.

        def close(self):
            self.inp.close()
            self.out.close()
            try: os.remove(self.in_name)
            except OSError: pass
            try: os.remove(self.out_name)
            except OSError: pass

        def __del__(self):
            self.close()

    def remote_debug(sig,frame):
        """Handler to allow process to be remotely debugged."""
        def _raiseEx(ex):
            """Raise specified exception in the remote process"""
            _raiseEx.ex = ex
        _raiseEx.ex = None

        try:
            # Provide some useful functions.
            locs = {'_raiseEx' : _raiseEx}
            locs.update(frame.f_locals)  # Unless shadowed.
            globs = frame.f_globals

            pid = os.getpid()  # Use pipe name based on pid
            pipe = NamedPipe(pipename(pid))

            old_stdout, old_stderr = sys.stdout, sys.stderr
            txt = ''
            pipe.put("Interrupting process at following point:\n" +
                   ''.join(traceback.format_stack(frame)) + ">>> ")

            try:
                while pipe.is_open() and _raiseEx.ex is None:
                    line = pipe.get()
                    if line is None: continue # EOF
                    txt += line
                    try:
                        code = codeop.compile_command(txt)
                        if code:
                            sys.stdout = cStringIO.StringIO()
                            sys.stderr = sys.stdout
                            exec code in globs,locs
                            txt = ''
                            pipe.put(sys.stdout.getvalue() + '>>> ')
                        else:
                            pipe.put('... ')
                    except:
                        txt='' # May be syntax err.
                        sys.stdout = cStringIO.StringIO()
                        sys.stderr = sys.stdout
                        traceback.print_exc()
                        pipe.put(sys.stdout.getvalue() + '>>> ')
            finally:
                sys.stdout = old_stdout # Restore redirected output.
                sys.stderr = old_stderr
                pipe.close()

        except Exception:  # Don't allow debug exceptions to propogate to real program.
            traceback.print_exc()

        if _raiseEx.ex is not None: raise _raiseEx.ex

    def debug_process(pid):
        """Interrupt a running process and debug it."""
        os.kill(pid, signal.SIGUSR1)  # Signal process.
        pipe = NamedPipe(pipename(pid), 1)
        try:
            while pipe.is_open():
                txt=raw_input(pipe.get()) + '\n'
                pipe.put(txt)
        except EOFError:
            pass # Exit.
        pipe.close()

    def listen():
        signal.signal(signal.SIGUSR1, remote_debug) # Register for remote debugging.

    if __name__=='__main__':
        if len(sys.argv) != 2:
            print "Error: Must provide process id to debug"
        else:
            pid = int(sys.argv[1])
            debug_process(pid)



[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/pdb.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/address-change.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/address-change.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/virtualenv.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/virtualenv.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/index.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/index.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/bash-nanny.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/bash-nanny.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/todo.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/todo.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/markdownSyntax.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/markdownSyntax.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/cgi-todo.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/cgi-todo.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/projects/cube.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/projects/cube.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/python-logging.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/python-logging.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/to-download.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/to-download.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/vimium.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/vimium.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/website-server.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/website-server.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/appifier.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/appifier.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/git.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/git.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/index.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/index.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/linux.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/linux.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/issue-tracking.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/issue-tracking.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/ditz.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/ditz.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ideas/git-plans.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ideas/git-plans.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/vim.txt
[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/vim.html
[120807-112936 Builder INFO]: building /local/sandc3/fret/ref/rsync.txt
[120807-112936 Builder INFO]: errors found in /local/sandc3/fret/ref/rsync.txt were:
<string>:11: (ERROR/3) Unknown directive type "code-block".

.. code-block:: bash

    alias rscp="rsync -aP -no-whole-file -inplace"
    alias rsmv="rscp --remove-source-files"

[120807-112936 Builder INFO]: Finished writing /local/sandc3/tmp/website/ref/rsync.html
[120807-112936 root INFO]: Finished building website.
